CREATE TABLE ERS_USER_ROLES(
	ERS_USER_ROLE_ID SERIAL PRIMARY KEY,
	USER_ROLE VARCHAR(10)
);

CREATE TABLE ERS_USERS(
	ERS_USER_ID SERIAL PRIMARY KEY,
	ERS_USERNAME VARCHAR(50) NOT NULL,
	ERS_PASSWORD VARCHAR(50) NOT NULL,
	USER_FIRST_NAME VARCHAR(100) NOT NULL,
	USER_LAST_NAME VARCHAR(100) NOT NULL,
	USER_EMAIL VARCHAR(150) NOT NULL,
	USER_ROLE_ID INT NOT NULL,
	CONSTRAINT ERS_USERS_UNv1 UNIQUE (ERS_USERNAME, USER_EMAIL),
	CONSTRAINT ERS_USERS_ROLES_FK FOREIGN KEY (USER_ROLE_ID) REFERENCES ERS_USER_ROLES(ERS_USER_ROLE_ID)
);

CREATE TABLE ERS_REIMBURSEMENT_STATUS(
	REIMB_STATUS_ID SERIAL PRIMARY KEY,
	REIMB_STATUS VARCHAR(10)
);

CREATE TABLE ERS_REIMBURSEMENT_TYPE(
	REIMB_TYPE_ID SERIAL PRIMARY KEY,
	REIMB_TYPE VARCHAR(10)
);

CREATE TABLE ERS_REIMBURSEMENT(
	REIMB_ID SERIAL PRIMARY KEY,
	REIMB_AMOUNT DOUBLE PRECISION DEFAULT 0.00,
	REIMB_SUBMITTED TIMESTAMP DEFAULT NOW(),
	REIMB_RESOLVED TIMESTAMP DEFAULT NOW(),
	REIMB_DESCRIPTION VARCHAR(250) NOT NULL,
	REIMB_RECEIPT BYTEA,
	REIMB_AUTHOR INT NOT NULL,
	REIMB_RESOLVER INT NOT NULL,
	REIMB_STATUS_ID INT NOT NULL,
	REIMB_TYPE_ID INT NOT NULL,
	CONSTRAINT ERS_USERS_FK_AUTH FOREIGN KEY (REIMB_AUTHOR) REFERENCES ERS_USERS(ERS_USER_ID),
	CONSTRAINT ERS_USERS_FK_RESLVR FOREIGN KEY (REIMB_RESOLVER) REFERENCES ERS_USERS(ERS_USER_ID),
	CONSTRAINT ERS_REIMBURSEMENT_STATUS_FK FOREIGN KEY (REIMB_STATUS_ID) REFERENCES ERS_REIMBURSEMENT_STATUS(REIMB_STATUS_ID),
	CONSTRAINT ERS_REIMBURSEMENT_TYPE_FK FOREIGN KEY (REIMB_TYPE_ID) REFERENCES ERS_REIMBURSEMENT_TYPE(REIMB_TYPE_ID) 
);

/*Populate ERS_USER_ROLES*/

INSERT INTO ERS_USER_ROLES VALUES(DEFAULT, 'Manager');
INSERT INTO ERS_USER_ROLES VALUES(DEFAULT, 'Coach');
INSERT INTO ERS_USER_ROLES VALUES(DEFAULT, 'Player');
INSERT INTO ERS_USER_ROLES VALUES(DEFAULT, 'Agent');
INSERT INTO ERS_USER_ROLES VALUES(DEFAULT, 'Trainer');


/*Populate ERS_USERS*/

INSERT INTO ERS_USERS VALUES(DEFAULT, 'cbailey24', 'cb24pick', 'Champ', 'Bailey', 'cbailey24@dbroncos.com', 1);
INSERT INTO ERS_USERS VALUES(DEFAULT, 'pmanning18', 'm@nn!ng18', 'Peyton', 'Manning', 'pmanning18@dbroncos.com', 2);
INSERT INTO ERS_USERS VALUES(DEFAULT, 'vmiller55', 'm!ll3rm@n', 'Von', 'Miller', 'vmiller55@dbroncos.com', 3);
INSERT INTO ERS_USERS VALUES(DEFAULT, 'dsanders21', 'pr!m3t!m3', 'Deion', 'Sanders', 'dsanders21@dbroncos.com', 4);
INSERT INTO ERS_USERS VALUES(DEFAULT, 'bdawkins20', 'w0lv3r!n3', 'Brian', 'Dawkins', 'bdawkins20@dbroncos.com', 5);


/*Populate ERS_REIMBURSEMENT_STATUS*/

INSERT INTO ERS_REIMBURSEMENT_STATUS VALUES(DEFAULT, 'Approved');
INSERT INTO ERS_REIMBURSEMENT_STATUS VALUES(DEFAULT, 'Declined');

/*Populate ERS_REIMBURSEMENT_TYPE*/

INSERT INTO ERS_REIMBURSEMENT_TYPE VALUES(DEFAULT, 'LODGE');
INSERT INTO ERS_REIMBURSEMENT_TYPE VALUES(DEFAULT, 'TRAVEL');
INSERT INTO ERS_REIMBURSEMENT_TYPE VALUES(DEFAULT, 'FOOD');
INSERT INTO ERS_REIMBURSEMENT_TYPE VALUES(DEFAULT, 'MISC');

/*Populate ERS_REIMBURSEMENT*/

INSERT INTO ERS_REIMBURSEMENT VALUES(DEFAULT, 45.18, DEFAULT, DEFAULT, 'Gas expense', ' ', 3, 2, 1, 2);
INSERT INTO ERS_REIMBURSEMENT VALUES(DEFAULT, 454.32, DEFAULT, DEFAULT, 'Room', bytea('C:\\Users\\lione\\IdeaProjects\\TheReimbursementApp\\reimb_artifacts\\hotel_receipt.jpg'), 4, 2, 1, 1);
INSERT INTO ERS_REIMBURSEMENT VALUES(DEFAULT, 191.44, DEFAULT, DEFAULT, 'Dinner', bytea('C:\\Users\\lione\\IdeaProjects\\TheReimbursementApp\\reimb_artifacts\\dinner_receipt.jpg'), 3, 2, 1, 3);
INSERT INTO ERS_REIMBURSEMENT VALUES(DEFAULT, 21.39, DEFAULT, DEFAULT, 'Wolverine Claws', bytea('C:\\Users\\lione\\IdeaProjects\\TheReimbursementApp\\reimb_artifacts\\claws_receipt.jpg'), 6, 2, 2, 4);

UPDATE ERS_REIMBURSEMENT SET REIMB_RECEIPT = bytea('C:\\Users\\lione\\IdeaProjects\\TheReimbursementApp\\reimb_artifacts\\gas_receipt.jpg') WHERE REIMB_ID = 1;
UPDATE ERS_REIMBURSEMENT SET REIMB_AMOUNT = 60.00 WHERE REIMB_ID = 1;
UPDATE ERS_REIMBURSEMENT SET REIMB_AMOUNT = 903.28 WHERE REIMB_ID = 2;

SELECT * FROM ERS_REIMBURSEMENT ER;
SELECT * FROM ERS_REIMBURSEMENT_TYPE ERT;
SELECT * FROM ERS_REIMBURSEMENT_STATUS ERS;
SELECT * FROM ERS_USERS EU;
SELECT * FROM ERS_USER_ROLES EUR;


DROP TABLE ERS_REIMBURSEMENT_TYPE;
DROP TABLE ERS_REIMBURSEMENT_STATUS;
DROP TABLE ERS_REIMBURSEMENT;
DROP TABLE ERS_USERS;
DROP TABLE ERS_USER_ROLES;